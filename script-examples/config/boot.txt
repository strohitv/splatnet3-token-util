#####
# EXECUTE ON PIXEL 8 / ANDROID API LEVEL 30 EMULATOR
#####

block_until_screenshot_region_matches -f ./screenshots/template-emulator-main-menu.png -x1 50 -y1 540 -x2 230 -y2 750 -d 500 -asp ./screenshots/actual-emulator-booted.png

echo
echo Open NSA
echo '########'
echo

execute_command_as_long_as_screenshot_region_matches -f ./screenshots/template-emulator-main-menu.png -x1 50 -y1 540 -x2 230 -y2 750 -d 500 -asp ./screenshots/actual-nsa-tapped.png -c "tap -x 130 -y 610"
block_until_screenshot_region_matches -f ./screenshots/template-nsa-opened.png -x1 40 -y1 350 -x2 170 -y2 390 -d 500 -asp ./screenshots/actual-nsa-opened.png


echo
echo Scroll to SplatNet3
echo '###################'
echo


wait_s 1
execute_command_until_screenshot_region_matches -f ./screenshots/template-nsa-opened.png -x1 42 -y1 828 -x2 528 -y2 1314 -d 500 -asp ./screenshots/actual-nsa-scrolled.png -c "swipe -x1 718 -y1 1232 -x2 200 -y2 1232 -d 2000"


echo
echo Open SplatNet3
echo '##############'
echo

execute_command_as_long_as_screenshot_region_matches -f ./screenshots/template-nsa-opened.png -x1 30 -y1 160 -x2 590 -y2 275 -d 500 -asp ./screenshots/actual-splatnet3-tapped.png -c "tap -x 275 -y 1100"
block_until_screenshot_region_matches -f ./screenshots/template-splatnet3-opened.png -x1 25 -y1 100 -x2 250 -y2 250 -d 250 -asp ./screenshots/actual-splatnet3-opened.png
